(this["webpackJsonpclay-online"]=this["webpackJsonpclay-online"]||[]).push([[0],{164:function(t,e,n){},166:function(t,e,n){},170:function(t,e,n){},172:function(t,e,n){"use strict";n.r(e);var a=n(64),r=n.n(a),i=n(150),o=n.n(i),u=(n(164),n(20)),s=n(9);var c=n(158),l=n(153),v=n(83),h=n(62),d=(n(154),n(155));function f(t){var e=new c.a;return e.setSites(t),e.setTolerance(.01),e.getTriangles(new h.b)}function p(t){var e={},n={},a={};for(var r in t._geometries){var i=t.getGeometryN(r).getCoordinates();if(4===i.length){var o=[0,0,0];for(var u in[0,1,2]){var c=i[u],l=JSON.stringify({x:c.x,y:c.y,z:.1}),v=Object.keys(e).length;l in e?o[u]=e[l]:(e[l]=v,a[l]=new s.v(c.x,c.y,.1),o[u]=v)}for(var h in[0,1,2]){var d=o[h],f=o[(h+1)%3],p=Math.min(d,f),g=Math.max(d,f);n[JSON.stringify([p,g])]=[p,g]}}}var m={};for(var y in e){m[e[y]]=a[y]}var b=[];for(var x in n){var w=n[x][0],P=n[x][1],M=new s.f(m[w],m[P]);b.push(M)}return b}function g(t){var e=new s.b,n=[];for(var a in t._geometries){var r=t.getGeometryN(a).getCoordinates();if(4===r.length)for(var i in[0,1,2]){var o=r[i];n.push(o.x),n.push(o.y),n.push(.1)}}var u=new Float32Array(n);return e.setAttribute("position",new s.a(u,3)),e.computeVertexNormals(),e}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return v.a.bufferOp(t,e,n)}function y(t,e){return t.difference(e)}function b(t,e){return t.intersection(e)}function x(t){var e=function(t){return 1===t.length?t[0]:(new h.b).createGeometryCollection(t).union()}(t);return d.a.union(e)}function w(){var t,e=function(t){var e,n=new l.a,a=[],r=Object(u.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;a.push(n.read(i))}}catch(o){r.e(o)}finally{r.f()}return a}(["POINT (-20 0)","POINT (20 0)","POINT (0 15)"]),n=[],a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(v.a.bufferOp(r,30,100))}}catch(i){a.e(i)}finally{a.f()}return x(n)}function P(){return function(t){var e=f(t);return{buffer:g(e),edges:p(e)}}(w())}var M=n(0),j=n(1),O=function(){function t(e,n){Object(M.a)(this,t),this.origin=e,this.position=(new s.v).copy(e),this.direction=n}return Object(j.a)(t,[{key:"move",value:function(t){this.position=(new s.v).addVectors(this.position,(new s.v).addScaledVector(this.direction,t))}},{key:"set",value:function(t){this.position=(new s.v).addVectors(this.origin,(new s.v).addScaledVector(this.direction,t))}},{key:"toCoordinate",value:function(){return new h.a(this.position.x,this.position.y,this.position.z)}},{key:"toVector3",value:function(){return new s.v(this.position.x,this.position.z,-this.position.y)}}]),t}();var S=n(3),V=n(4),A=n(152),C=(s.c,s.c,function(t){Object(S.a)(n,t);var e=Object(V.a)(n);function n(t){var a,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(M.a)(this,n),(a=e.call(this)).points=t,a.closed=r,a.init(),a}return Object(j.a)(n,[{key:"init",value:function(){this.dirs=this.getDirs(),this.arcLengthDivisions=this.getPointCount()}},{key:"getPointCount",value:function(){return this.closed?this.points.length:this.points.length-1}},{key:"getDirs",value:function(){for(var t=[],e=0;e<this.getPointCount();e++){var n=this.points[e],a=this.points[(e+1)%this.getPointCount()],r=(new s.v).subVectors(a,n);t.push(r)}return t}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){if(this.cacheArcLengths&&this.cacheArcLengths.length===this.getPointCount()+1&&!this.needsUpdate)return this.cacheArcLengths;var t=0;this.cacheArcLengths=[t];var e,n=Object(u.a)(this.dirs);try{for(n.s();!(e=n.n()).done;){t+=e.value.length(),this.cacheArcLengths.push(t)}}catch(a){n.e(a)}finally{n.f()}return this.cacheArcLengths}},{key:"getTangentAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.v;return this.getTangent(t*this.getPointCount(),e)}},{key:"getTangent",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.v,a=t%1,r=t-t%1;if(isNaN(t))return null;if(t>0&&t<this.getPointCount())if(a<1e-4){var i=(new s.v).copy(this.dirs[r]),o=(new s.v).copy(this.dirs[r-1]);o.normalize(),i.normalize(),e=(new s.v).addVectors(o,i)}else e=(new s.v).copy(this.dirs[r]);if(this.closed)if(r%=this.getPointCount(),a<1e-4){var u=(new s.v).copy(this.dirs[r]),c=(new s.v).copy(this.dirs[(r+this.getPointCount()-1)%this.getPointCount()]);c.normalize(),u.normalize(),e=(new s.v).addVectors(c,u)}else e=(new s.v).copy(this.dirs[r]);else e=t<1?(new s.v).copy(this.dirs[0]):(new s.v).copy(this.dirs[this.dirs.length-1]);return e.normalize(),n.set(e.x,e.y,e.z)}},{key:"computeFrenetFrames",value:function(t,e){for(var n=[],a=[],r=[],i=new s.v,o=new s.h,u=0;u<=t;u++){var c=u/t;n[u]=this.getTangentAt(c,new s.v)}a[0]=new s.v(0,1,0),r[0]=new s.v,r[0].crossVectors(n[0],a[0]);for(var l=1;l<=t;l++){if(a[l]=a[l-1].clone(),r[l]=r[l-1].clone(),i.crossVectors(n[l-1],n[l]),i.length()>Number.EPSILON){i.normalize();var v=Math.acos(Object(A.a)(n[l-1].dot(n[l]),-1,1));a[l].applyMatrix4(o.makeRotationAxis(i,v))}r[l].crossVectors(n[l],a[l])}if(!0===e){var h=Math.acos(Object(A.a)(a[0].dot(a[t]),-1,1));h/=t,n[0].dot(i.crossVectors(a[0],a[t]))>0&&(h=-h);for(var d=1;d<=t;d++)a[d].applyMatrix4(o.makeRotationAxis(n[d],h*d)),r[d].crossVectors(n[d],a[d])}return{tangents:n,normals:a,binormals:r}}},{key:"_tConstraining",value:function(t){var e=t%1,n=t-e;return this.closed?n%=this.getPointCount():n<0?(e+=n,n=0):n>=this.getPointCount()&&(e+=n-this.getPointCount(),n=this.getPointCount()),{locT:e,t0:n}}},{key:"getPointAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.v;return this.getPoint(t,e)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.v;t*=this.getPointCount();var n=this._tConstraining(t),a=n.locT,r=n.t0,i=this.points[r],o=this.dirs[r],u=(new s.v).addVectors(i,(new s.v).addScaledVector(o,a));return e.set(u.x,u.y,u.z)}},{key:"moveToHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Object(u.a)(this.points);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.y=e}}catch(r){n.e(r)}finally{n.f()}}},{key:"makeMeWave",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=2*t*Math.PI/this.getPointCount(),a=0,r=0;r<this.getPointCount();r++)this.points[r].z+=e*Math.sin(a),a+=n;this.init()}},{key:"cadFlip",value:function(){var t,e=Object(u.a)(this.points);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.set(n.x,n.z,-n.y)}}catch(a){e.e(a)}finally{e.f()}}}]),n}(s.c));function L(t,e){var n=e.phaseDelta*t.y;return Math.sin(t.x*Math.PI/e.period+n)*e.amplitude+e.offset}function W(t,e){var n=function(t,e){var n,a;return n=(t.x-e.baseU%e.uSpacing)%e.uSpacing-.5*e.uSpacing,a=(t.y-e.baseV%e.vSpacing)%e.vSpacing-.5*e.vSpacing,e.positionShift&&Math.abs(n)/e.uSpacing+Math.abs(a)/e.vSpacing>.5&&(n=n<0?.5*-e.uSpacing-n:.5*e.uSpacing-n,a=a<0?.5*-e.vSpacing-a:.5*e.vSpacing-a),{localU:n,localV:a}}(t,e),a=n.localU,r=n.localV;r*=e.radiusScaleV;var i=Math.sqrt(a*a+r*r);return i>e.radius?0:1-i/e.radius}function I(t,e){var n=t.x;return n>=e.endLength|n<=e.startLength?0:n>=e.startMaxLength&n<=e.endMaxLength?1:n<e.startMaxLength?(n-e.startLength)*e.easingDelta:n>e.endMaxLength?1-(n-e.endMaxLength)*e.easingDelta:null}var k={amplitude:{default:2,min:0,max:10},period:{default:30,min:10,max:500},phaseDelta:{default:.1,min:-10,max:10},offset:{default:0,min:-10,max:10},uv:{default:1,min:0,max:1}},B={baseU:{default:0,min:-100,max:100},baseV:{default:0,min:-100,max:100},amplitude:{default:10,min:-20,max:20},uSpacing:{default:50,min:0,max:100},vSpacing:{default:50,min:0,max:100},radius:{default:25,min:2,max:50},radiusScaleV:{default:1,min:0,max:10},positionShift:{default:0,min:0,max:.5},uv:{default:1,min:0,max:1}},F={sinWaveUVPattern:{patternParameters:k,patternFunction:L},dotPyramidUVPattern:{patternParameters:B,patternFunction:function(t,e){return W(t,e)*e.amplitude}},dotEllipsoidUVPattern:{patternParameters:B,patternFunction:function(t,e){var n=W(t,e);return Math.sqrt(1-Math.pow(1-n,2))*e.amplitude}},dotInverseUVPattern:{patternParameters:B,patternFunction:function(t,e){var n=W(t,e);return(1-Math.sqrt(1-Math.pow(n,2)))*e.amplitude}},cylinderUVFunction:{patternParameters:{baseU:{default:0,min:-100,max:100},baseV:{default:0,min:-100,max:100},amplitude:{default:10,min:-20,max:20},height:{default:30,min:5,max:100},uSpacing:{default:50,min:0,max:100},vSpacing:{default:50,min:0,max:100},radiusA:{default:7.5,min:2,max:50},radiusB:{default:15,min:2,max:50},positionShift:{default:0,min:0,max:.5},uv:{default:1,min:0,max:1}},patternFunction:function(t,e){var n,a=function(t,e){var n,a;return n=(t.x-e.baseU%e.uSpacing)%e.uSpacing,a=(t.y-e.baseV%e.vSpacing)%e.vSpacing-.5*e.vSpacing,e.positionShift&&Math.round((t.y-a)/e.vSpacing)%2===1&&(n+=.5*e.uSpacing,n%=e.uSpacing),{localU:n-=.5*e.uSpacing,localV:a}}(t,e),r=a.localU,i=a.localV,o=e.radiusB-e.radiusA;return(r=Math.abs(r))>(n=Math.abs(i)+.001<.5*e.height?e.radiusA+o*(i/e.height+.5):-1)?0:Math.pow(1-Math.pow(r/n,2),.5)*e.amplitude}}},z=function(){function t(e){Object(M.a)(this,t),this.clayPoints=e}return Object(j.a)(t,[{key:"toPolygon",value:function(){var t,e=[],n=Object(u.a)(this.clayPoints);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a.toCoordinate())}}catch(r){n.e(r)}finally{n.f()}return e.push(e[0]),(new h.b).createPolygon(e)}},{key:"toPolyline",value:function(){var t,e=[],n=Object(u.a)(this.clayPoints);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a.toVector3())}}catch(r){n.e(r)}finally{n.f()}return new C(e)}},{key:"moveToHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Object(u.a)(this.clayPoints);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.z=e}}catch(r){n.e(r)}finally{n.f()}}},{key:"applyPattern",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.uv){var a,r=Object(u.a)(this.clayPoints);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(n){var o=I(i.uvValue,n);0!==o&&i.set(t(i.uvValue,e)*o)}else i.set(t(i.uvValue,e))}}catch(v){r.e(v)}finally{r.f()}}else{var s,c=Object(u.a)(this.clayPoints);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.set(t(l.origin,e))}}catch(v){c.e(v)}finally{c.f()}}}},{key:"toThreePolyline",value:function(){var t,e=[],n=Object(u.a)(this.clayPoints);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a.toVector3())}}catch(r){n.e(r)}finally{n.f()}return new C(e)}}]),t}();(new h.b).createLinearRing();function D(t){var e;return e=isNaN(t.z)?0:t.z,new s.v(t.x,e,-t.y)}function N(t){var e,n=[],a=Object(u.a)(t.getCoordinates());try{for(a.s();!(e=a.n()).done;){var r=e.value;n.push(D(r))}}catch(i){a.e(i)}finally{a.f()}return n.pop(),new C(n)}function H(t){var e=[];if("MultiPolygon"===t.constructor.name){var n,a=Object(u.a)(t._geometries);try{for(a.s();!(n=a.n()).done;){var r=H(n.value);e=e.concat(r)}}catch(o){a.e(o)}finally{a.f()}return e}var i=function(t){var e=[];e.push(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)e.push(t.getInteriorRingN(n));return e}(t);return e=e.concat(i)}var T=n(5);function E(t){var e=(new h.b).createPolygon(function(t){var e,n,a=[],r=Object(u.a)(t.points);try{for(r.s();!(e=r.n()).done;){var i=e.value;a.push((n=i,new T.a(n.x,n.y,n.z)))}}catch(o){r.e(o)}finally{r.f()}return a.push(a[0]),a}(t));return e}function R(t,e,n){if(t&&e&&n){var a=t.current,r=a.clientWidth,i=a.clientHeight;n&&(n.aspect=r/i,n.updateProjectionMatrix()),e.setSize(r,i)}}var U,_,q=n(156);function G(t,e,n){var a={frameId:null};return a.frameId=requestAnimationFrame((function(){return J(t,e,n,a)})),a}function J(t,e,n,a){t.clear("#ddd"),t.render(e,n),a.frameId=requestAnimationFrame((function(){return J(t,e,n,a)}))}function X(t){U=new s.o;var e=function(){var t=new s.d(16777215,1.1);return t.position.set(500,500,500),t.castShadow=!0,t.shadow.camera.near=1200,t.shadow.camera.far=2500,t.shadow.bias=1e-4,t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096,t}();U.add(e),et(),P(),_=function(){var t=new s.w({antialias:!0,alpha:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=s.l,t}(),t.current.appendChild(_.domElement);var n=function(t){var e=t.clientWidth,n=t.clientHeight,a=new s.m(45,e/n);return a.position.z=500,a}(t.current);U.add(n);var a=function(t,e){var n=new q.a(t,e.domElement);return n.enableRotate=!0,n.enableKeys=!0,n.target.set(0,0),n.update(),n}(n,_);R(t,_,n);var r=G(_,U,n);return{scene:U,renderer:_,camera:n,frameId:r,orbitControls:a}}function Y(t,e,n){!function(t){var e=t.frameId;cancelAnimationFrame(e)}(n.frameId),t.current.removeChild(e.domElement)}var K,Q=[],Z={productionWidth:{default:2.5,min:1,max:10},baseWidth:{default:150,min:100,max:200},baseLength:{default:300,min:200,max:400},lengthBufferMultiplier:{default:2,min:1,max:10},pinSpacing:{default:220,min:100,max:300},diamondWidth:{default:50,min:20,max:100},diamondHeight:{default:110,min:20,max:200},diamondCount:{default:3,min:1,max:5},pinDiameter0:{default:40,min:30,max:100},pinDiameter1:{default:20,min:30,max:100},pinDelta:{default:250,min:1,max:10},pinDivisions:{default:60,min:1,max:10},precision:{default:2,min:1,max:10},bodyHeight:{default:160,min:1,max:10},totalHeight:{default:250,min:1,max:10},startHeight:{default:-100,min:1,max:10},layerHeight:{default:2.5,min:1,max:10},easingStart:{default:20,min:0,max:250},easingEnd:{default:100,min:0,max:250},pattern:{patternFunction:{default:L},patternParameters:{default:k}}};function $(){var t={};for(var e in Z.pattern.patternParameters.default)t[e]=Z.pattern.patternParameters.default[e].default;return t}function tt(){var t=K.baseWidth*Math.PI+2*(K.baseLength-K.baseWidth);return K.easingParameters={startLength:K.easingStart,startMaxLength:K.easingEnd,endMaxLength:.5*t-K.easingEnd,endLength:.5*t-K.easingStart,easingDelta:1/(K.easingEnd-K.easingStart)},K}function et(){!function(t){var e,n=Object(u.a)(Q);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.remove(a),a.geometry.dispose(),a.material.dispose()}}catch(r){n.e(r)}finally{n.f()}console.log(t),Q=[]}(U),tt(),console.log(K);var t=St(K);!function(t,e,n){var a=new s.s,r=.6*n.layerHeight;a.load("https://i.ibb.co/9nk0c8H/terra-cotta-stucco-wall-texture.jpg",(function(n){var a,i=new s.j({map:n}),o=Object(u.a)(e);try{for(o.s();!(a=o.n()).done;){var c=a.value,l=new s.t(c,c.getPointCount(),r,6,!0),v=new s.i(l,i);v.castShadow=!0,v.receiveShadow=!0,Q.push(v),t.add(v)}}catch(h){o.e(h)}finally{o.f()}}),void 0,(function(t){console.error("An error happened.")}))}(U,t,K)}!function(){for(var t in K={},Z)"pattern"!==t?K[t]=Z[t].default:K.pattern={patternFunction:Z.pattern.patternFunction.default,patternParameters:$()};K=tt()}();n(173);var nt=new h.b;function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,a=rt(e.x,e.y,n),r=t.difference(a),i=lt(r);return i}function rt(t,e,n){var a=function(t,e){var n=new h.a(t,e);return nt.createPoint(n)}(t,e);return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return v.a.bufferOp(t,e,n)}(a,n,100)}function it(t,e){return{bboxA:t.getEnvelopeInternal(),bboxB:e.getEnvelopeInternal()}}var ot={top:function(t,e){var n=it(t,e),a=n.bboxA,r=n.bboxB;return a.getMaxY()<r.getMinY()},bottom:function(t,e){var n=it(t,e),a=n.bboxA;return n.bboxB.getMaxY()<a.getMinY()},left:function(t,e){var n=it(t,e),a=n.bboxA,r=n.bboxB;return a.getMaxX()<r.getMinX()},right:function(t,e){var n=it(t,e),a=n.bboxA;return n.bboxB.getMaxX()<a.getMinX()},small:function(t,e){var n=it(t,e),a=n.bboxA,r=n.bboxB;return a.getArea()<r.getArea()},large:function(t,e){var n=it(t,e),a=n.bboxA,r=n.bboxB;return a.getArea()>r.getArea()}};function ut(t,e,n){return ot[t](e,n)?function(t,e){return{lrA:t,lrB:e}}(e,n):function(t,e){return{lrA:e,lrB:t}}(e,n)}function st(t,e){return e.sort((function(e,n){return ot[t](e,n)?1:-1})),e}function ct(t,e){var n=t.getCoordinates();return n.pop(),n=n.concat(e.getCoordinates()),nt.createLineString(n)}function lt(t){var e,n=function(t){for(var e=[],n=0;n<t.getNumGeometries();n++)e.push(t.getGeometryN(n));return e}(t),a=[],r=[],i=Object(u.a)(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(!a.includes(o)){var s,c=Object(u.a)(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(o!==l&!a.includes(l)){var v=o.getEndPoint().getCoordinate(),h=l.getStartPoint().getCoordinate();v.distance(h)<.001&&(r.push(ct(o,l)),a.push(l),a.push(o))}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){i.e(g)}finally{i.f()}var d,f=Object(u.a)(n);try{for(f.s();!(d=f.n()).done;){var p=d.value;a.includes(p)||r.push(p)}}catch(g){f.e(g)}finally{f.f()}return r}function vt(t,e,n){var a,r,i=[];if(2===(a=at(t,e.a.v0,n)).length){var o=ut("large",a[0],a[1]),s=o.lrA,c=o.lrB;i.push(s),r=c=c.reverse()}if(3===(a=at(r,e.a.v1,n)).length){var l=ut("bottom",(a=st("small",a))[1],a[2]),v=l.lrA,h=l.lrB;i.push(h),v=v.reverse(),i.push(v),r=a[0]}if(3===(a=at(r,e.a.v2,n)).length){var d=ut("bottom",(a=st("large",a))[0],a[1]),f=d.lrA,p=d.lrB;i.push(f);var g=at(p,e.a.v3,n);if(3===g.length){var m=ut("left",(g=st("bottom",g))[2],g[1]);i=[m.lrB,g[0].reverse(),m.lrA].concat(i)}r=a[2].reverse()}var y,b=0,x=Object(u.a)(e.d);try{for(x.s();!(y=x.n()).done;){if(3===(a=at(r,y.value,n)).length){var w=(a=st("right",a))[0],P=a[1],M=ut(b%2===0?"bottom":"top",w,P),j=M.lrA,O=M.lrB;(i=[j].concat(i)).push(O),r=a[2].reverse()}b++}}catch(T){x.e(T)}finally{x.f()}if(3===(a=at(r,e.b.v0,n)).length){var S=ut("bottom",(a=st("right",a))[0],a[1]),V=S.lrA,A=S.lrB;(i=[V].concat(i)).push(A),r=a[2].reverse()}if(b%2===1&&(r=r.reverse()),3===(a=at(r,e.b.v2,n)).length){var C=[],L=ut("bottom",(a=st("left",a))[1],a[2]),W=L.lrA,I=L.lrB,k=at(W,e.b.v1,n);if(3===k.length){var B=ut("left",(k=st("top",k))[2],k[1]);C=[B.lrA,k[0].reverse(),B.lrB]}if(C.push(a[0].reverse()),3===(k=at(I,e.b.v3,n)).length){var F=ut("right",(k=st("bottom",k))[2],k[1]);C=C.concat([F.lrA,k[0].reverse(),F.lrB])}if(b%2===1){var z=[];C.reverse();var D,N=Object(u.a)(C);try{for(N.s();!(D=N.n()).done;){var H=D.value;z.push(H.reverse())}}catch(T){N.e(T)}finally{N.f()}C=z}i=i.concat(C)}return function(t){var e,n=[],a=Object(u.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;n=n.concat(r.getCoordinates())}}catch(T){a.e(T)}finally{a.f()}return n.push(n[0]),nt.createLinearRing(n)}(i)}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=H(t),r=.5*n.productionWidth*1.415;if(1===a.length){var i=a[0];return[vt(i,e,r)]}return null}function dt(t,e){return t.pinDiameterDelta*e+t.pinDiameter0}function ft(t,e,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=n*t,u=e+o,c=Math.cos(u),l=Math.sin(u),v=a*c,h=a*l,d=new O(new s.v(r.x+v,r.y+h,r.z),new s.v(c,l,0));return d.uvValue=new s.u(i+o*a,r.z),d}function pt(t,e,n,a,r,i){for(var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=Math.ceil(n*t/e),s=n/u,c=0;c<u;c++){var l=ft(c,a,s,t,r,o);i.push(l)}return n*t+o}function gt(t,e,n,a){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=t.distanceTo(e),o=Math.ceil(i/n),u=(new s.v).addScaledVector((new s.v).subVectors(e,t),1/o),c=u.length(),l=new s.v(u.y/c,-u.x/c),v=0;v<o;v++){var h=(new s.v).addVectors(t,(new s.v).addScaledVector(u,v)),d=new O(h,l);d.uvValue=new s.u(r+v*c,t.z),a.push(d)}return i+r}function mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new s.v(.5*-(t.baseLength-t.baseWidth),0,e),a=new s.v(.5*(t.baseLength-t.baseWidth),0,e),r=[],i=0;i=pt(.5*t.baseWidth,t.precision,.5*Math.PI,Math.PI,n,r,i);var o=new s.v(.5*-(t.baseLength-t.baseWidth),.5*-t.baseWidth,e),u=new s.v(.5*(t.baseLength-t.baseWidth),.5*-t.baseWidth,e);i=gt(o,u,t.precision,r,i),i=pt(.5*t.baseWidth,t.precision,Math.PI,-.5*Math.PI,a,r,i);var c=new s.v(.5*(t.baseLength-t.baseWidth),.5*t.baseWidth,e),l=new s.v(.5*-(t.baseLength-t.baseWidth),.5*t.baseWidth,e);i=gt(c,l,t.precision,r,i),pt(.5*t.baseWidth,t.precision,.5*Math.PI,.5*Math.PI,n,r,i);var v=new z(r);return v}function yt(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=(new s.v).addScaledVector((new s.v).subVectors(e,t),1/n),o=[],u=0,c=n+1;a||(u=1,c=n),null!==r&&(u+=r,c+=r);for(var l=u;l<c;l++){var v=(new s.v).addVectors(t,(new s.v).addScaledVector(i,l));o.push(v)}return o}function bt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,i=n/r,o=[],u=0;u<r;u++){var c=a+u*i,l=e*Math.cos(c),v=e*Math.sin(c);o.push(new s.v(t.x+l,t.y+v,0))}return new C(o)}function xt(t,e){return new C([new s.v(e.x+.5*t.diamondWidth,e.y,0),new s.v(e.x,e.y+.5*t.diamondHeight,0),new s.v(e.x-.5*t.diamondWidth,e.y,0),new s.v(e.x,e.y-.5*t.diamondHeight,0)])}function wt(t,e,n){return new C([new s.v(t.x+.5*e,t.y+.5*n,0),new s.v(t.x-.5*e,t.y+.5*n,0),new s.v(t.x-.5*e,t.y-.5*n,0),new s.v(t.x+.5*e,t.y-.5*n,0)])}function Pt(t,e,n){var a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=yt(t,e,n.diamondCount+1,!1),o=[],c=Object(u.a)(i);try{for(c.s();!(a=c.n()).done;){var l=a.value,v=xt(n,l),h=wt(l,n.productionWidth,n.baseWidth*n.lengthBufferMultiplier);o.push(v),o.push(h)}}catch(y){c.e(y)}finally{c.f()}o.push(bt(t,r,2*Math.PI,0,n.pinDivisions)),o.push(bt(e,r,2*Math.PI,0,n.pinDivisions)),o.push(wt(t,n.productionWidth,n.baseWidth*n.lengthBufferMultiplier)),o.push(wt(e,n.productionWidth,n.baseWidth*n.lengthBufferMultiplier)),o.push(wt(new s.v(0,0,0),n.baseLength+n.baseWidth*(n.lengthBufferMultiplier-1),n.productionWidth));for(var d=[],f=0,p=o;f<p.length;f++){var g=p[f];d.push(E(g))}var m=x(d);return m}function Mt(t,e,n){var a=e+.5*n.productionWidth;return{v0:{x:t.x-a,y:t.y},v1:{x:t.x,y:t.y+a},v2:{x:t.x+a,y:t.y},v3:{x:t.x,y:t.y-a}}}function jt(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=mt(n,a);r.applyPattern(n.pattern.patternFunction,n.pattern.patternParameters,n.easingParameters);var i=r.toPolygon(),o=m(i,-n.productionWidth,1),c=.5*(n.baseLength+n.baseWidth*(n.lengthBufferMultiplier-1)),l=wt(new s.v(.5*-c,0,0),c,n.productionWidth),v=E(l),h=x([o,v]),d=.5*dt(n,a),f=Pt(t,e,n,a,d),p=b(h,f),g=y(i,p),w=yt(t,e,n.diamondCount+1,!1,.5);w.pop();var P,M={a:Mt(t,d,n),b:Mt(e,d,n),d:w},j=ht(g,M,n),O=[],S=[],V=Object(u.a)(j);try{for(V.s();!(P=V.n()).done;){var A=P.value;O.push(N(A));var C,L=Object(u.a)(A.getCoordinates());try{for(L.s();!(C=L.n()).done;){var W=C.value;S.push([W.x,W.y,a])}}catch(I){L.e(I)}finally{L.f()}}}catch(I){V.e(I)}finally{V.f()}return{polyLines:O,coordinateLists:S}}function Ot(t,e,n,a){var r=[],i=dt(n,a),o=bt(t,.5*i,2*Math.PI,0,n.pinDivisions),u=bt(e,.5*i,2*Math.PI,0,n.pinDivisions);return o.cadFlip(),u.cadFlip(),r.push(o),r.push(u),r}function St(t){var e=new s.v(.5*-t.pinSpacing,0),n=new s.v(.5*t.pinSpacing,0);t.pinDiameterDelta=(t.pinDiameter1-t.pinDiameter0)/t.pinDelta;for(var a=[],r=[],i=0;i<t.bodyHeight;i+=t.layerHeight){var o=jt(e,n,t,i),c=o.polyLines,l=o.coordinateLists;r=r.concat(l);var v,h=Object(u.a)(c);try{for(h.s();!(v=h.n()).done;){var d=v.value;d.moveToHeight(i+t.startHeight),a.push(d)}}catch(m){h.e(m)}finally{h.f()}}for(;i<t.totalHeight;i+=t.layerHeight){var f,p=Object(u.a)(Ot(e,n,t,i));try{for(p.s();!(f=p.n()).done;){var g=f.value;g.moveToHeight(i+t.startHeight),a.push(g)}}catch(m){p.e(m)}finally{p.f()}}return window.coordinates=r,a}n(166);var Vt=n(159),At=n(151);n(174);function Ct(t){var e=new At.a({autoPlace:!0,width:150});for(var n in F){var a=e.addFolder(n);for(var r in F[n].patternParameters)Wt(a,r,n)}var i=e.addFolder("constructionParameters");for(var o in K)"pattern"!==o&&Z.hasOwnProperty(o)&&Lt(i,o);var s={download:function(){!function(){var t=encodeURI(function(){var t,e="data:text/csv;charset=utf-8,",n=Object(u.a)(window.coordinates);try{for(n.s();!(t=n.n()).done;)e+=t.value.toString()+"\r\n"}catch(a){n.e(a)}finally{n.f()}return e}()),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","my_data.csv"),document.body.appendChild(e),e.click()}()}};e.add(s,"download")}function Lt(t,e){t.add(K,e,K[e].min,K[e].max).onChange((function(t){K[e]=t,et()}))}function Wt(t,e,n){var a=F[n].patternParameters;K.pattern.patternParameters[e]=a[e].default,t.add(K.pattern.patternParameters,e,a[e].min,a[e].max).onChange((function(t){K.pattern.patternFunction=F[n].patternFunction,K.pattern.patternParameters[e]=t,et()}))}n(170);var It=n(73);var kt=function(){var t=Object(a.useRef)(null),e=Object(a.useRef)(null),n=Object(a.useRef)(null);return Object(a.useEffect)((function(){console.log(t);var a=X(t),r=(a.scene,a.camera),i=a.renderer,o=a.frameId;return e.current=i,n.current=r,Ct(),function(){Y(t,i,o)}}),[e,n]),Object(It.jsx)(Vt.a,{bounds:!0,onResize:function(){R(t,e.current,n.current)},children:function(e){var n=e.measureRef;return Object(It.jsx)("div",{className:"simple-3d",ref:n,children:Object(It.jsx)("div",{className:"three-canvas",ref:t,tabIndex:0})})}})};var Bt=function(){return Object(It.jsx)("div",{className:"app",children:Object(It.jsx)("div",{className:"container",children:Object(It.jsx)(kt,{})})})},Ft=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),i(t),o(t)}))};o.a.render(Object(It.jsx)(r.a.StrictMode,{children:Object(It.jsx)(Bt,{})}),document.getElementById("root")),Ft()}},[[172,1,2]]]);
//# sourceMappingURL=main.49f6ac67.chunk.js.map